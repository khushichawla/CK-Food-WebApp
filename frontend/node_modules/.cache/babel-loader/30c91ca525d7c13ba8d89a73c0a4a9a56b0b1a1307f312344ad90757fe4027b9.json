{"ast":null,"code":"var _jsxFileName = \"/Users/khushichawla/Desktop/Projects/web-app/frontend/src/pages/Summary/Summary.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport './Summary.css';\nimport axios from 'axios';\nimport { toast } from 'react-toastify';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Summary = ({\n  url\n}) => {\n  _s();\n  const [orders, setOrders] = useState([]);\n  const [filter, setFilter] = useState(\"All\");\n  const fetchAllOrders = async () => {\n    try {\n      const response = await axios.get(url + \"/api/order/list\");\n      if (response.data.success) {\n        const filteredOrders = response.data.data.filter(order => order.status !== \"Canceled\").sort((a, b) => new Date(b.date) - new Date(a.date));\n        setOrders(filteredOrders);\n      } else {\n        toast.error(\"Error fetching orders\");\n      }\n    } catch (error) {\n      console.error(\"Error fetching orders:\", error);\n      toast.error(\"Error fetching orders\");\n    }\n  };\n  useEffect(() => {\n    fetchAllOrders();\n  }, []); // Run once on mount\n\n  const filteredOrders = filter === \"All\" ? orders : orders.filter(order => order.status === filter);\n  const summarizeOrders = () => {\n    const summary = {};\n    let totalPrice = 0;\n    filteredOrders.forEach(order => {\n      order.items.forEach(item => {\n        if (summary[item.name]) {\n          summary[item.name].count += item.quantity;\n        } else {\n          summary[item.name] = {\n            count: item.quantity,\n            price: item.price\n          };\n        }\n        totalPrice += item.price * item.quantity; // Assuming item.price is defined\n      });\n    });\n    return {\n      summary,\n      totalPrice\n    };\n  };\n  const {\n    summary,\n    totalPrice\n  } = summarizeOrders();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"summary-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Order Summary\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n      className: \"summary-table\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Food Item\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Quantity\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: Object.entries(summary).map(([foodItem, {\n          count\n        }]) => /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: foodItem\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: count\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 29\n          }, this)]\n        }, foodItem, true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n      className: \"total-price\",\n      children: [\"Total Price: $\", totalPrice.toFixed(2)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 9\n  }, this);\n};\n_s(Summary, \"hG16JPyZc4c9Fugs42ag13ixXRI=\");\n_c = Summary;\nexport default Summary;\nvar _c;\n$RefreshReg$(_c, \"Summary\");","map":{"version":3,"names":["React","useEffect","useState","axios","toast","jsxDEV","_jsxDEV","Summary","url","_s","orders","setOrders","filter","setFilter","fetchAllOrders","response","get","data","success","filteredOrders","order","status","sort","a","b","Date","date","error","console","summarizeOrders","summary","totalPrice","forEach","items","item","name","count","quantity","price","className","children","fileName","_jsxFileName","lineNumber","columnNumber","Object","entries","map","foodItem","toFixed","_c","$RefreshReg$"],"sources":["/Users/khushichawla/Desktop/Projects/web-app/frontend/src/pages/Summary/Summary.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport './Summary.css';\nimport axios from 'axios';\nimport { toast } from 'react-toastify';\n\nconst Summary = ({url}) => {\n    const [orders, setOrders] = useState([]);\n    const [filter, setFilter] = useState(\"All\");\n\n    const fetchAllOrders = async () => {\n        try {\n          const response = await axios.get(url + \"/api/order/list\");\n          if (response.data.success) {\n            const filteredOrders = response.data.data\n              .filter(order => order.status !== \"Canceled\")\n              .sort((a, b) => new Date(b.date) - new Date(a.date));\n    \n            setOrders(filteredOrders);\n          } else {\n            toast.error(\"Error fetching orders\");\n          }\n        } catch (error) {\n          console.error(\"Error fetching orders:\", error);\n          toast.error(\"Error fetching orders\");\n        }\n    };\n\n    useEffect(() => {\n        fetchAllOrders();\n    }, []); // Run once on mount\n\n    const filteredOrders = filter === \"All\" \n    ? orders \n    : orders.filter(order => order.status === filter);\n\n    const summarizeOrders = () => {\n        const summary = {};\n        let totalPrice = 0;\n\n        filteredOrders.forEach(order => {\n            order.items.forEach(item => {\n                if (summary[item.name]) {\n                    summary[item.name].count += item.quantity;\n                } else {\n                    summary[item.name] = { count: item.quantity, price: item.price };\n                }\n                totalPrice += item.price * item.quantity; // Assuming item.price is defined\n            });\n        });\n\n        return { summary, totalPrice };\n    };\n\n    const { summary, totalPrice } = summarizeOrders();\n\n    return (\n        <div className=\"summary-container\">\n            <h3>Order Summary</h3>\n            <table className='summary-table'>\n                <thead>\n                    <tr>\n                        <th>Food Item</th>\n                        <th>Quantity</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {Object.entries(summary).map(([foodItem, { count }]) => (\n                        <tr key={foodItem}>\n                            <td>{foodItem}</td>\n                            <td>{count}</td>\n                        </tr>\n                    ))}\n                </tbody>\n            </table>\n            <h4 className=\"total-price\">Total Price: ${totalPrice.toFixed(2)}</h4>\n        </div>\n    );\n}\n\nexport default Summary;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}